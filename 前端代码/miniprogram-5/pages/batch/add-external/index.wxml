<view class="page-container">
    <view class="header">
        <view class="title">外源原料登记</view>
        <view class="desc">登记外部采购的原料批次，并上传来源凭证用于追溯</view>
    </view>
    <view class="card">
        <view class="section-title">登记信息</view>
        <view class="proc-hint" style="margin-top: 0; margin-bottom: 20rpx;">请如实填写供应商信息并上传凭证</view>
        <view class="field-label">药材名称</view>
        <input class="input" placeholder="例如：长白山人参" value="{{form.name}}" data-field="name" bindinput="onInput" />
        <view class="field-label">类别</view>
        <input class="input" placeholder="例如：根茎类" value="{{form.category}}" data-field="category" bindinput="onInput" />
        <view class="field-label">产地</view>
        <input class="input" placeholder="例如：吉林省抚松县" value="{{form.origin}}" data-field="origin" bindinput="onInput" />
        <!-- 库存与GS1 -->
        <view class="sub-title" style="margin-top:20rpx;">入库数量</view>
        <view class="stat-row">
            <view class="stat-item">
                <view class="field-label">数量</view>
                <input class="input input-compact" type="digit" value="{{form.quantity}}" data-field="quantity" bindinput="onInput" />
            </view>
            <view class="stat-item">
                <view class="field-label">单位</view>
                <input class="input input-compact" value="{{form.unit}}" data-field="unit" bindinput="onInput" />
            </view>
        </view>
        <view class="field-label" style="margin-top:20rpx;">来源凭证/图片 (必填)</view>
        <view class="image-uploader" bindtap="chooseImage">
            <image wx:if="{{form.imageUrl}}" class="image-uploader-img" src="{{form.imageUrl}}" mode="aspectFill" />
            <view wx:else style="color:#999;">+ 上传</view>
        </view>
        <view class="field-label">备注 (供应商信息)</view>
        <textarea class="textarea" placeholder="请填写供应商名称、联系方式等..." value="{{form.description}}" data-field="description" bindinput="onInput" />
        <view class="btn-group" style="margin-top: 40rpx;">
            <button class="btn btn-primary" bindtap="save">提交登记</button>
        </view>
    </view>
</view>
