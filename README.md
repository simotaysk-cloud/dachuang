# 智汇本草 - 中药材全过程溯源管理系统

本项目是一款基于 **Spring Boot** 后端与 **微信小程序** 前端的工业级中药材溯源管理解决方案。旨在实现从种植、加工、质检到物流的全链路数字化追踪，并对接 **GS1-128 国际标准** 编码。

## 🌟 核心功能

- **多角色权限管理**：支持管理员 (Admin)、农户 (Farmer)、加工厂 (Factory)、物流 (Logistics) 及监管方 (Regulator) 的分权管理。
- **全流程存证**：涵盖种植、加工、质检、物流等环节的详细记录录入与展示。
- **GS1-128 国际标准**：
    - 自动生成合规的 GS1-128 HRI 编码。
    - 支持 `g/t/斤` 到 `kg` 的自动单位换算。
    - 具备 GS1 锁定机制，确保打印贴标后库存数据的一致性。
- **区块链对接准备**：内置区块链存证逻辑接口，支持溯源数据上链验证。
- **响应式 UI**：采用统一的“列表+卡片”设计语言，操作体验流畅。

## 🛠️ 技术栈

- **后端**：Spring Boot 3.2.2, Spring Data JPA, JWT (身份认证), MySQL 8.0+
- **前端**：微信小程序 (Vanilla WXML/WXSS/JS)
- **工具**：Maven, 微信开发者工具

## 🚀 快速开始

### 1. 后端部署 (Spring Boot)

1. **环境准备**：确认已安装 Java 17+ 和 MySQL 8.0+。
2. **创建数据库**：
   ```sql
   CREATE DATABASE dachuang CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
   ```
3. **配置修改**：修改 `后端代码/springboot/src/main/resources/application-dev.yml` 中的数据库账号密码：
   - 默认账号: `dachuang`
   - 默认密码: `Dachuang123!` (请根据实际情况调整)
4. **运行服务**：
   ```bash
   cd 后端代码/springboot
   mvn spring-boot:run -DskipTests
   ```
   服务默认运行在 `http://127.0.0.1:8081`。

### 2. 前端部署 (微信小程序)

1. **导入项目**：使用微信开发者工具打开 `前端代码/miniprogram-5` 文件夹。
2. **修改配置**：
   - 打开 `前端代码/miniprogram-5/utils/api.js`，确认 `DEFAULT_BASE_URL` 指向您的后端地址（默认为 `http://127.0.0.1:8081`）。
   - 在开发者工具中勾选“详情 -> 本地设置 -> 不校验合法域名、web-view（业务域名）、TLS版本以及HTTPS证书”。
3. **运行预览**：点击“编译”即可查看效果。

## 🔑 默认账号

系统启动时会自动初始化以下测试账号：
- **管理员**：`admin` / `123456`
- **农户**：`farmer` / `123456`

## 🧪 演示数据

系统内置了一套完整的“长白山人参”演示链路：
- 搜索批次号 `MOCK-2024001` 即可查看完整的溯源闭环。

---
*本项目由 Antigravity AI 协作开发，致力于中药材产业数字化转型。*